const mongoose = require('mongoose');
require('dotenv').config();

const { PolicyMaterial } = require('./models');

// MongoDB ì—°ê²°
mongoose.connect(process.env.MONGODB_URI)
  .then(() => console.log('MongoDB ì—°ê²°ë¨'))
  .catch(err => console.error('MongoDB ì—°ê²° ì‹¤íŒ¨:', err));

async function createSamplePolicyMaterials() {
  try {
    // ê¸°ì¡´ ì •ì±…ìë£Œ ë°ì´í„° ì‚­ì œ
    await PolicyMaterial.deleteMany({});
    console.log('ê¸°ì¡´ ì •ì±…ìë£Œ ë°ì´í„° ì‚­ì œë¨');

    // ìƒ˜í”Œ ì •ì±…ìë£Œ ë°ì´í„°
    const sampleData = [
      {
        title: '4ì°¨ ì‚°ì—…í˜ëª… ëŒ€ì‘ ì¢…í•© ì „ëµ',
        excerpt: '4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ì— ëŒ€ë¹„í•œ êµ­ê°€ ì°¨ì›ì˜ ì¢…í•©ì ì¸ ëŒ€ì‘ ì „ëµì„ ì œì‹œí•©ë‹ˆë‹¤.',
        category: 'ê²½ì œì •ì±…',
        content: `# 4ì°¨ ì‚°ì—…í˜ëª… ëŒ€ì‘ ì¢…í•© ì „ëµ

## ê°œìš”
4ì°¨ ì‚°ì—…í˜ëª…ì€ ì¸ê³µì§€ëŠ¥, ë¹…ë°ì´í„°, ì‚¬ë¬¼ì¸í„°ë„· ë“±ì˜ ê¸°ìˆ ì´ ìœµí•©ë˜ì–´ ê²½ì œÂ·ì‚¬íšŒ ì „ë°˜ì„ ë³€í™”ì‹œí‚¤ëŠ” í˜ëª…ì  ë³€í™”ì…ë‹ˆë‹¤.

## ì£¼ìš” ì •ì±… ë°©í–¥

### 1. ì¸ê³µì§€ëŠ¥ ìƒíƒœê³„ êµ¬ì¶•
- AI ì—°êµ¬ê°œë°œ íˆ¬ì í™•ëŒ€
- AI ì „ë¬¸ì¸ë ¥ ì–‘ì„±
- AI ìœ¤ë¦¬ ê°€ì´ë“œë¼ì¸ ë§ˆë ¨

### 2. ë””ì§€í„¸ ì¸í”„ë¼ ê°•í™”
- 5G ë„¤íŠ¸ì›Œí¬ ì „êµ­ êµ¬ì¶•
- ë°ì´í„°ì„¼í„° í˜„ëŒ€í™”
- ì‚¬ì´ë²„ë³´ì•ˆ ì²´ê³„ ê°•í™”

### 3. ê·œì œí˜ì‹  ì¶”ì§„
- ìƒŒë“œë°•ìŠ¤ ì œë„ í™•ëŒ€
- ë„¤ê±°í‹°ë¸Œ ê·œì œ ë„ì…
- ì‹ ì‚°ì—… ê·œì œ ê°œì„ 

## ê¸°ëŒ€íš¨ê³¼
- GDP ì„±ì¥ë¥  2%p ìƒìŠ¹
- ì¼ìë¦¬ 100ë§Œê°œ ì°½ì¶œ
- êµ­ê°€ ê²½ìŸë ¥ ê°•í™”`,
        author: 'ì •ì±…ì—°êµ¬ì†Œ',
        status: 'published',
        policyType: 'ë°±ì„œ',
        tags: ['4ì°¨ì‚°ì—…í˜ëª…', 'AI', 'ë¹…ë°ì´í„°', 'ë””ì§€í„¸ì „í™˜'],
        views: 156,
        downloadCount: 23,
        attachments: [
          {
            filename: '4ì°¨ì‚°ì—…í˜ëª…_ëŒ€ì‘ì „ëµ.pdf',
            originalName: '4ì°¨ ì‚°ì—…í˜ëª… ëŒ€ì‘ ì „ëµ.pdf',
            path: '/resources/documents/4ì°¨ì‚°ì—…í˜ëª…_ëŒ€ì‘ì „ëµ.pdf',
            size: 2048000,
            mimeType: 'application/pdf',
            pages: 45
          }
        ]
      },
      {
        title: 'ê°œë³„ë§ì¶¤í˜• êµìœ¡ì‹œìŠ¤í…œ êµ¬ì¶• ë°©ì•ˆ',
        excerpt: 'í•™ìŠµì ê°œì¸ì˜ íŠ¹ì„±ê³¼ ìˆ˜ì¤€ì— ë§ëŠ” ë§ì¶¤í˜• êµìœ¡ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•œ ì •ì±… ë°©ì•ˆì„ ì œì‹œí•©ë‹ˆë‹¤.',
        category: 'êµìœ¡ì •ì±…',
        content: `# ê°œë³„ë§ì¶¤í˜• êµìœ¡ì‹œìŠ¤í…œ êµ¬ì¶• ë°©ì•ˆ

## ë°°ê²½ ë° í•„ìš”ì„±
- íšì¼ì  êµìœ¡ì‹œìŠ¤í…œì˜ í•œê³„
- ê°œì¸ì°¨ë¥¼ ê³ ë ¤í•œ êµìœ¡ í•„ìš”ì„± ì¦ëŒ€
- ë””ì§€í„¸ ê¸°ìˆ ì„ í™œìš©í•œ êµìœ¡í˜ì‹  ìš”êµ¬

## ì£¼ìš” ì¶”ì§„ ë°©í–¥

### 1. AI ê¸°ë°˜ í•™ìŠµ ë¶„ì„ ì‹œìŠ¤í…œ
- í•™ìŠµì ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„
- ê°œì¸ë³„ í•™ìŠµ íŒ¨í„´ íŒŒì•…
- ë§ì¶¤í˜• í•™ìŠµ ì½˜í…ì¸  ì¶”ì²œ

### 2. ìœ ì—°í•œ êµìœ¡ê³¼ì • ìš´ì˜
- í•™ì ì œ ê³ ë“±í•™êµ í™•ì‚°
- ì˜¨ë¼ì¸-ì˜¤í”„ë¼ì¸ í˜¼í•© ìˆ˜ì—…
- í”„ë¡œì íŠ¸ ê¸°ë°˜ í•™ìŠµ í™œì„±í™”

### 3. êµì‚¬ ì—­ëŸ‰ ê°•í™”
- AI í™œìš© êµìœ¡ ì—°ìˆ˜
- ê°œë³„ì§€ë„ ì—­ëŸ‰ ì œê³ 
- êµìœ¡ ë°ì´í„° í™œìš© ëŠ¥ë ¥ í–¥ìƒ

## ì¶”ì§„ ì „ëµ
1. ì‹œë²”í•™êµ ìš´ì˜ (2025ë…„)
2. ì ì§„ì  í™•ì‚° (2026-2027ë…„)
3. ì „ë©´ ë„ì… (2028ë…„)`,
        author: 'ì •ì±…ì—°êµ¬ì†Œ',
        status: 'published',
        policyType: 'ì—°êµ¬ë³´ê³ ì„œ',
        tags: ['êµìœ¡ê°œí˜', 'ë§ì¶¤í˜•êµìœ¡', 'AIêµìœ¡', 'ë””ì§€í„¸êµìœ¡'],
        views: 89,
        downloadCount: 15,
        attachments: [
          {
            filename: 'ê°œë³„ë§ì¶¤í˜•_êµìœ¡ì‹œìŠ¤í…œ.pdf',
            originalName: 'ê°œë³„ë§ì¶¤í˜• êµìœ¡ì‹œìŠ¤í…œ êµ¬ì¶•ë°©ì•ˆ.pdf',
            path: '/resources/documents/ê°œë³„ë§ì¶¤í˜•_êµìœ¡ì‹œìŠ¤í…œ.pdf',
            size: 1536000,
            mimeType: 'application/pdf',
            pages: 32
          }
        ]
      },
      {
        title: 'êµ­ê°€ì•ˆë³´ ì •ì±… ë°©í–¥',
        excerpt: 'ë³€í™”í•˜ëŠ” ì•ˆë³´í™˜ê²½ì— ëŒ€ì‘í•œ êµ­ê°€ì•ˆë³´ ì •ì±…ì˜ ê¸°ë³¸ ë°©í–¥ê³¼ ì„¸ë¶€ ì „ëµì„ ì œì‹œí•©ë‹ˆë‹¤.',
        category: 'ì•ˆë³´ì •ì±…',
        content: `# êµ­ê°€ì•ˆë³´ ì •ì±… ë°©í–¥

## ì•ˆë³´í™˜ê²½ ë³€í™”
- ì „í†µì  ì•ˆë³´ìœ„í˜‘ì˜ ë‹¤ë³€í™”
- ì‹ ì¢… ì•ˆë³´ìœ„í˜‘ ë“±ì¥
- êµ­ì œ ì•ˆë³´í˜‘ë ¥ í•„ìš”ì„± ì¦ëŒ€

## ì •ì±… ëª©í‘œ
1. **í¬ê´„ì  ì•ˆë³´ì²´ê³„ êµ¬ì¶•**
2. **ëŠ¥ë™ì  ì–µì§€ë ¥ ê°•í™”**
3. **êµ­ì œ ì•ˆë³´í˜‘ë ¥ í™•ëŒ€**

### í•µì‹¬ ì¶”ì§„ê³¼ì œ

#### 1. êµ­ë°©ë ¥ í˜„ëŒ€í™”
- ì²¨ë‹¨ ë¬´ê¸°ì²´ê³„ ë„ì…
- êµ­ë°© R&D íˆ¬ì í™•ëŒ€
- ë°©ì‚°ì—…ì²´ ê²½ìŸë ¥ ê°•í™”

#### 2. ì‚¬ì´ë²„ ì•ˆë³´ ê°•í™”
- êµ­ê°€ ì‚¬ì´ë²„ë³´ì•ˆ ì²´ê³„ êµ¬ì¶•
- ë¯¼ê´€ í˜‘ë ¥ ê°•í™”
- ì‚¬ì´ë²„ ì „ë¬¸ì¸ë ¥ ì–‘ì„±

#### 3. í•œë°˜ë„ í‰í™” ì •ì°©
- ëŒ€ë¶ ì •ì±… ì¼ê´€ì„± ìœ ì§€
- êµ­ì œì‚¬íšŒì™€ì˜ ê³µì¡° ê°•í™”
- í‰í™”í†µì¼ ê¸°ë°˜ ì¡°ì„±

## íˆ¬ì ê³„íš
- êµ­ë°©ì˜ˆì‚° GDP ëŒ€ë¹„ 3% ìˆ˜ì¤€ ìœ ì§€
- ì‹ ê¸°ìˆ  ë¶„ì•¼ íˆ¬ì ë¹„ì¤‘ í™•ëŒ€
- ë°©ìœ„ì‚°ì—… ìˆ˜ì¶œ í™•ëŒ€`,
        author: 'ì •ì±…ì—°êµ¬ì†Œ',
        status: 'published',
        policyType: 'ì œì•ˆì„œ',
        tags: ['êµ­ê°€ì•ˆë³´', 'êµ­ë°©ì •ì±…', 'ì‚¬ì´ë²„ë³´ì•ˆ', 'í‰í™”í†µì¼'],
        views: 134,
        downloadCount: 28,
        attachments: [
          {
            filename: 'êµ­ê°€ì•ˆë³´_ì •ì±…ë°©í–¥.pdf',
            originalName: 'êµ­ê°€ì•ˆë³´ ì •ì±… ë°©í–¥.pdf',
            path: '/resources/documents/êµ­ê°€ì•ˆë³´_ì •ì±…ë°©í–¥.pdf',
            size: 1792000,
            mimeType: 'application/pdf',
            pages: 38
          }
        ]
      },
      {
        title: 'ì‚¬íšŒì•ˆì „ë§ ê°•í™”ì •ì±…',
        excerpt: 'ì½”ë¡œë‚˜19 ì´í›„ ë³€í™”ëœ ì‚¬íšŒêµ¬ì¡°ì— ë§ëŠ” ìƒˆë¡œìš´ ì‚¬íšŒì•ˆì „ë§ êµ¬ì¶• ë°©ì•ˆì„ ì œì‹œí•©ë‹ˆë‹¤.',
        category: 'ì‚¬íšŒì •ì±…',
        content: `# ì‚¬íšŒì•ˆì „ë§ ê°•í™”ì •ì±…

## ë°°ê²½
ì½”ë¡œë‚˜19 íŒ¬ë°ë¯¹ì€ ìš°ë¦¬ ì‚¬íšŒì˜ ì·¨ì•½ì ì„ ë“œëŸ¬ë‚´ë©°, ìƒˆë¡œìš´ í˜•íƒœì˜ ì‚¬íšŒì•ˆì „ë§ í•„ìš”ì„±ì„ ì œê¸°í–ˆìŠµë‹ˆë‹¤.

## ì£¼ìš” ì •ì±…

### 1. ì „êµ­ë¯¼ ê¸°ë³¸ì†Œë“ ê²€í† 
- ì‹œë²”ì‚¬ì—… ì¶”ì§„
- ì¬ì› ì¡°ë‹¬ ë°©ì•ˆ ì—°êµ¬
- ì‚¬íšŒì  í•©ì˜ ë„ì¶œ

### 2. í”Œë«í¼ ë…¸ë™ì ë³´í˜¸
- ì‚¬íšŒë³´í—˜ ì ìš© í™•ëŒ€
- ë…¸ë™ê¶Œ ë³´ì¥
- ì•ˆì „ë§ êµ¬ì¶•

### 3. ì²­ë…„ ì§€ì› ê°•í™”
- ì²­ë…„ ê¸°ë³¸ì†Œë“ ë„ì…
- ì£¼ê±° ì§€ì› í™•ëŒ€
- ì·¨ì—… ì§€ì› ê°•í™”

## ê¸°ëŒ€íš¨ê³¼
- ì‚¬íšŒ ë¶ˆí‰ë“± ì™„í™”
- ê²½ì œ ì•ˆì •ì„± ì œê³ 
- ì‚¬íšŒ í†µí•© ê°•í™”`,
        author: 'ì •ì±…ì—°êµ¬ì†Œ',
        status: 'published',
        policyType: 'í† ë¡ ìë£Œ',
        tags: ['ì‚¬íšŒì•ˆì „ë§', 'ê¸°ë³¸ì†Œë“', 'í”Œë«í¼ë…¸ë™', 'ì²­ë…„ì •ì±…'],
        views: 67,
        downloadCount: 12,
        attachments: [
          {
            filename: 'ì‚¬íšŒì•ˆì „ë§_ê°•í™”ì •ì±….pdf',
            originalName: 'ì‚¬íšŒì•ˆì „ë§ ê°•í™”ì •ì±….pdf',
            path: '/resources/documents/ì‚¬íšŒì•ˆì „ë§_ê°•í™”ì •ì±….pdf',
            size: 1280000,
            mimeType: 'application/pdf',
            pages: 28
          }
        ]
      }
    ];

    // ë°ì´í„° ì‚½ì…
    const policyMaterials = await PolicyMaterial.insertMany(sampleData);
    console.log(`âœ… ${policyMaterials.length}ê°œì˜ ì •ì±…ìë£Œ ìƒ˜í”Œ ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤`);

    // ìƒì„±ëœ ë°ì´í„° í™•ì¸
    for (const policy of policyMaterials) {
      console.log(`ğŸ“‹ ${policy.title} (${policy.category}) - ID: ${policy._id}`);
    }

    // ì¹´í…Œê³ ë¦¬ë³„ ê°œìˆ˜ í™•ì¸
    const categoryCounts = await PolicyMaterial.aggregate([
      { $group: { _id: '$category', count: { $sum: 1 } } },
      { $sort: { _id: 1 } }
    ]);

    console.log('\nğŸ“Š ì¹´í…Œê³ ë¦¬ë³„ ê°œìˆ˜:');
    categoryCounts.forEach(item => {
      console.log(`  ${item._id}: ${item.count}ê°œ`);
    });

  } catch (error) {
    console.error('âŒ ì •ì±…ìë£Œ ìƒ˜í”Œ ë°ì´í„° ìƒì„± ì‹¤íŒ¨:', error);
  } finally {
    mongoose.connection.close();
  }
}

createSamplePolicyMaterials(); 